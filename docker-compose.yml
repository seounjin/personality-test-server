version: "3"   

services:
  nginx:
    restart: "unless-stopped" 
    build:
      context: ./nginx
      dockerfile: "Dockerfile"
    ports:
        - '80:80'
    container_name: nginx

  express:
      build:
        context: ./server
        dockerfile: "Dockerfile"
      ports:
          - '8080:8080'
      volumes:
        - /usr/src/app/node_modules
        - ./server:/usr/src/app
      container_name: express

